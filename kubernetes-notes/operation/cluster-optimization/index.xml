<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>èƒ¡ä¼Ÿç…Œ â€“ å¤§è§„æ¨¡é›†ç¾¤ä¼˜åŒ–</title>
    <link>https://blog.huweihuang.com/kubernetes-notes/operation/cluster-optimization/</link>
    <description>Recent content in å¤§è§„æ¨¡é›†ç¾¤ä¼˜åŒ– on èƒ¡ä¼Ÿç…Œ</description>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Sat, 07 Jun 2025 10:50:57 +0000</lastBuildDate>
    
	  <atom:link href="https://blog.huweihuang.com/kubernetes-notes/operation/cluster-optimization/index.xml" rel="self" type="application/rss+xml" />
    
    
      
        
      
    
    
    <item>
      <title>Kubernetes-Notes: å¤§è§„æ¨¡Podè°ƒåº¦ä¼˜åŒ–</title>
      <link>https://blog.huweihuang.com/kubernetes-notes/operation/cluster-optimization/massive-pod-scheduling/</link>
      <pubDate>Sat, 07 Jun 2025 10:50:57 +0000</pubDate>
      
      <guid>https://blog.huweihuang.com/kubernetes-notes/operation/cluster-optimization/massive-pod-scheduling/</guid>
      <description>
        
        
        &lt;p&gt;å‡è®¾åœ¨ Kubernetes é›†ç¾¤ä¸­ä¸€æ¬¡æ€§è°ƒåº¦ 1 ä¸‡ä¸ª Podï¼Œ è¿™æ˜¯ä¸€é¡¹æå…·æŒ‘æˆ˜æ€§çš„ä»»åŠ¡ã€‚å¦‚æœç®¡ç†ä¸å½“ï¼Œå¯èƒ½ä¼šå¯¼è‡´è°ƒåº¦å™¨ç“¶é¢ˆã€API Server è¿‡è½½ï¼Œç”šè‡³æ•´ä¸ªé›†ç¾¤å´©æºƒã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡å°†æ¢è®¨ä¼˜åŒ–å¤§è§„æ¨¡ Pod è°ƒåº¦çš„æœ€ä½³å®è·µä¸æŠ€æœ¯æ‰‹æ®µã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;é¢ä¸´çš„æŒ‘æˆ˜&#34;&gt;ğŸš€ é¢ä¸´çš„æŒ‘æˆ˜&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;è°ƒåº¦å™¨å‹åŠ›å¤§&lt;/strong&gt;ï¼šå¤§é‡ Pod åŒæ—¶è¿›å…¥ Pending çŠ¶æ€ï¼Œè°ƒåº¦å™¨å¤„ç†ä¸è¿‡æ¥ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;API Server å‹åŠ›å¤§&lt;/strong&gt;ï¼šé«˜é¢‘çš„ CREATE/GET/LIST è¯·æ±‚å¯èƒ½è§¦å‘é™æµã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;etcd å»¶è¿Ÿå¢åŠ &lt;/strong&gt;ï¼šå†™å…¥åŠçŠ¶æ€å˜åŒ–é¢‘ç¹ï¼Œå¯¼è‡´å­˜å‚¨åç«¯å‹åŠ›è¿‡å¤§ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;èŠ‚ç‚¹å‹åŠ›ä¸å‡è¡¡&lt;/strong&gt;ï¼šè°ƒåº¦ä¸å‡å¯å¯¼è‡´éƒ¨åˆ†èŠ‚ç‚¹ CPU/å†…å­˜/ç£ç›˜ IO èµ„æºæ‰“çˆ†ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç½‘ç»œæ’ä»¶ç“¶é¢ˆ&lt;/strong&gt;ï¼šCNI æ’ä»¶æ— æ³•å¤„ç†å¤§é‡å¹¶å‘çš„ IP åˆ†é…ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h1 id=&#34;1-è°ƒåº¦å™¨ä¼˜åŒ–&#34;&gt;1. è°ƒåº¦å™¨ä¼˜åŒ–&lt;/h1&gt;
&lt;h2 id=&#34;1-1-æ§åˆ¶-pod-åˆ›å»ºé€Ÿç‡&#34;&gt;ğŸ”§ 1.1. æ§åˆ¶ Pod åˆ›å»ºé€Ÿç‡&lt;/h2&gt;
&lt;p&gt;ä¸è¦ä¸€æ¬¡æ€§å¯åŠ¨ 10,000 ä¸ª Podï¼Œè€Œæ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åˆ†æ‰¹åˆ›å»º&lt;/strong&gt;ï¼šä¾‹å¦‚æ¯æ‰¹åˆ›å»º 500â€“1000 ä¸ª Podã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ§åˆ¶é€Ÿç‡&lt;/strong&gt;ï¼šé€šè¿‡è„šæœ¬æˆ– Job æ§åˆ¶å™¨å¼•å…¥ &lt;code&gt;sleep&lt;/code&gt; ç­‰æ—¶é—´é—´éš”ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ç¤ºä¾‹-shell-è„šæœ¬&#34;&gt;ç¤ºä¾‹ Shell è„šæœ¬ï¼š&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;for&lt;/span&gt; file in batches/batch_*.yaml&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;;&lt;/span&gt; &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;do&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  kubectl apply -f &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;$file&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  sleep &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;10&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;done&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;1-2-è°ƒä¼˜é»˜è®¤è°ƒåº¦å™¨&#34;&gt;âš™ï¸ 1.2. è°ƒä¼˜é»˜è®¤è°ƒåº¦å™¨&lt;/h2&gt;
&lt;p&gt;é»˜è®¤è°ƒåº¦å™¨ï¼ˆ&lt;code&gt;kube-scheduler&lt;/code&gt;ï¼‰åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹å¯èƒ½æˆä¸ºç“¶é¢ˆã€‚ä¸ºäº†é«˜æ•ˆè°ƒåº¦ 1 ä¸‡ä¸ªä»¥ä¸Šçš„ Podï¼Œå¯ä»¥ä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢è¿›è¡Œæ·±å…¥è°ƒä¼˜ï¼š&lt;/p&gt;
&lt;h3 id=&#34;1-æé«˜å¹¶å‘è°ƒåº¦èƒ½åŠ›&#34;&gt;âœ… 1. æé«˜å¹¶å‘è°ƒåº¦èƒ½åŠ›&lt;/h3&gt;
&lt;p&gt;Kubernetes v1.19+ æ”¯æŒé…ç½®å¹¶è¡Œè°ƒåº¦çº¿ç¨‹æ•°ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;apiVersion&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;kubescheduler.config.k8s.io/v1&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;kind&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;KubeSchedulerConfiguration&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;profiles&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;- &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;schedulerName&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;default-scheduler&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;parallelism&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;64&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;æ¨èå€¼ä¸º CPU æ ¸å¿ƒæ•°çš„ 2~4 å€ï¼ˆè§†è°ƒåº¦å¯†é›†åº¦è€Œå®šï¼‰ã€‚&lt;br&gt;
æ³¨æ„ï¼šå¹¶å‘è¿‡é«˜å¯èƒ½å¯¼è‡´å†…å­˜æ¿€å¢æˆ– etcd å‹åŠ›è¿‡å¤§ï¼Œå»ºè®®ç»“åˆå‹æµ‹è¯„ä¼°ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;2-å¯ç”¨ç¼“å­˜è°ƒåº¦å™¨-scheduling-queue-ä¼˜åŒ–&#34;&gt;âœ… 2. å¯ç”¨ç¼“å­˜è°ƒåº¦å™¨ï¼ˆScheduling Queue ä¼˜åŒ–ï¼‰&lt;/h3&gt;
&lt;p&gt;è°ƒåº¦å™¨å†…éƒ¨ç»´æŠ¤äº† Pending Pod çš„ä¼˜å…ˆé˜Ÿåˆ—ï¼ˆ&lt;code&gt;PriorityQueue&lt;/code&gt;ï¼‰ä¸ Node ä¿¡æ¯ç¼“å­˜ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç¡®ä¿ä½¿ç”¨ä¼˜å…ˆçº§è°ƒåº¦&lt;/strong&gt;ï¼ˆPodPriorityï¼‰å¯å¸®åŠ©è°ƒåº¦å™¨ä¼˜å…ˆå¤„ç†é‡è¦ä»»åŠ¡ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é…ç½®è°ƒåº¦å™¨æ—¶å¯å¯ç”¨ &lt;code&gt;permit&lt;/code&gt; æ’ä»¶é˜¶æ®µï¼Œåœ¨è°ƒåº¦å†³ç­–å‰æå‰æ§åˆ¶è°ƒåº¦æµé‡ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;3-å…³é—­æˆ–ç²¾ç®€è€—æ—¶æ’ä»¶&#34;&gt;âœ… 3. å…³é—­æˆ–ç²¾ç®€è€—æ—¶æ’ä»¶&lt;/h3&gt;
&lt;p&gt;æŸäº›é»˜è®¤å¯ç”¨çš„æ’ä»¶åœ¨è°ƒåº¦é«˜å³°æ—¶ä¼šå¸¦æ¥æ€§èƒ½è´Ÿæ‹…ï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;æ’ä»¶&lt;/th&gt;
&lt;th&gt;ç±»å‹&lt;/th&gt;
&lt;th&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;VolumeBinding&lt;/td&gt;
&lt;td&gt;Bind&lt;/td&gt;
&lt;td&gt;æŒä¹…åŒ–å·ç»‘å®šï¼Œéœ€è®¿é—® API&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;NodeResourcesFit&lt;/td&gt;
&lt;td&gt;Filter&lt;/td&gt;
&lt;td&gt;æ£€æŸ¥èµ„æºæ˜¯å¦æ»¡è¶³&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;InterPodAffinity&lt;/td&gt;
&lt;td&gt;Filter&lt;/td&gt;
&lt;td&gt;Pod ä¹‹é—´äº²å’Œæ€§è®¡ç®—å¤æ‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;âš ï¸ &lt;strong&gt;ä¼˜åŒ–å»ºè®®&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ— çŠ¶æ€æœåŠ¡å»ºè®® &lt;strong&gt;å…³é—­ VolumeBinding&lt;/strong&gt; æ’ä»¶ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åªä½¿ç”¨å¿…è¦çš„ Score æ’ä»¶ï¼ˆå¦‚ &lt;code&gt;LeastAllocated&lt;/code&gt;ã€&lt;code&gt;BalancedAllocation&lt;/code&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é…ç½®æ–¹å¼ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;plugins&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;score&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;disabled&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;    &lt;/span&gt;- &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;name&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;NodeResourcesBalancedAllocation&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;enabled&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;    &lt;/span&gt;- &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;name&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;NodeResourcesLeastAllocated&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;4-é¢„é€‰èŠ‚ç‚¹é›†èŒƒå›´-èŠ‚ç‚¹å‰ªæ&#34;&gt;âœ… 4. é¢„é€‰èŠ‚ç‚¹é›†èŒƒå›´ï¼ˆèŠ‚ç‚¹å‰ªæï¼‰&lt;/h3&gt;
&lt;p&gt;è°ƒåº¦å™¨é»˜è®¤ä¼šè¯„ä¼°æ‰€æœ‰å¯è°ƒåº¦èŠ‚ç‚¹ï¼Œ1 ä¸‡ Pod Ã— 1 åƒèŠ‚ç‚¹çš„ç»„åˆæå…¶è€—æ—¶ã€‚&lt;/p&gt;
&lt;p&gt;ä¼˜åŒ–æ–¹æ³•ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;NodeAffinity&lt;/strong&gt;ï¼šæå‰é€šè¿‡æ ‡ç­¾ç­›æ‰ä¸ç¬¦åˆçš„èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä½¿ç”¨ preFilter æ’ä»¶&lt;/strong&gt; è‡ªå®šä¹‰èŠ‚ç‚¹é›†åˆã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;affinity&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;nodeAffinity&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;requiredDuringSchedulingIgnoredDuringExecution&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;      &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;nodeSelectorTerms&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;      &lt;/span&gt;- &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;matchExpressions&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;        &lt;/span&gt;- &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;key&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;node-role.kubernetes.io/worker&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;          &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;operator&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;In&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;          &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;values&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;          &lt;/span&gt;- &lt;span style=&#34;color:#000&#34;&gt;batch&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;5-å¯ç”¨æ‹“æ‰‘æ„ŸçŸ¥ä¸äº²å’Œæ€§ç¼“å­˜&#34;&gt;âœ… 5. å¯ç”¨æ‹“æ‰‘æ„ŸçŸ¥ä¸äº²å’Œæ€§ç¼“å­˜&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨æ‹“æ‰‘è°ƒåº¦å»ºè®®ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;topologySpreadConstraints&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;&lt;/span&gt;- &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;maxSkew&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;topologyKey&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;topology.kubernetes.io/zone&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;whenUnsatisfiable&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;ScheduleAnyway&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;6-æ§åˆ¶è°ƒåº¦é˜Ÿåˆ—å‹åŠ›-backoff-retry&#34;&gt;âœ… 6. æ§åˆ¶è°ƒåº¦é˜Ÿåˆ—å‹åŠ›ï¼ˆBackoff &amp;amp; Retryï¼‰&lt;/h3&gt;
&lt;p&gt;Pod å¤šæ¬¡è°ƒåº¦å¤±è´¥ä¼šè¿›å…¥ backoff é˜Ÿåˆ—ï¼Œé»˜è®¤é€€é¿æ—¶é—´ä¸ºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;InitialBackoff&lt;/span&gt; &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;time&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;Second&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;MaxBackoff&lt;/span&gt; &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;10&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;time&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;Second&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è°ƒå¤§ &lt;code&gt;MaxBackoff&lt;/code&gt; å¯å‡ç¼“é«˜é¢‘é‡è¯•å¯¹è°ƒåº¦å™¨çš„å‹åŠ›ã€‚&lt;/p&gt;
&lt;h3 id=&#34;è°ƒä¼˜æ•ˆæœéªŒè¯å»ºè®®&#34;&gt;ğŸ§ª è°ƒä¼˜æ•ˆæœéªŒè¯å»ºè®®ï¼š&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨ &lt;code&gt;--v=5&lt;/code&gt; çº§åˆ«è¿è¡Œ &lt;code&gt;kube-scheduler&lt;/code&gt;ï¼Œè¾“å‡ºè°ƒåº¦è¯¦ç»†æ—¥å¿—ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è§‚å¯Ÿè°ƒåº¦å»¶è¿ŸæŒ‡æ ‡ï¼ˆSchedulingLatencySecondsï¼‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;framework_extension_point_duration_seconds&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;scheduler_scheduling_duration_seconds_bucket&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;1-3-æ‰©å±•è°ƒåº¦å™¨-scheduling-framework-æ’ä»¶&#34;&gt;ğŸ§© 1.3. æ‰©å±•è°ƒåº¦å™¨ï¼ˆScheduling Framework æ’ä»¶ï¼‰&lt;/h2&gt;
&lt;p&gt;Kubernetes æ”¯æŒé€šè¿‡è°ƒåº¦æ¡†æ¶æ’ä»¶æœºåˆ¶è‡ªå®šä¹‰è°ƒåº¦é€»è¾‘ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ç¤ºä¾‹-å¿«é€Ÿ-filter-æ’ä»¶&#34;&gt;âœ¨ ç¤ºä¾‹ï¼šå¿«é€Ÿ Filter æ’ä»¶&lt;/h3&gt;
&lt;p&gt;è‡ªå®šä¹‰è¿‡æ»¤æ’ä»¶ï¼Œå¯åªè¯„ä¼°éƒ¨åˆ†èŠ‚ç‚¹ï¼Œä»è€Œå‡å°‘è°ƒåº¦å»¶è¿Ÿï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;func&lt;/span&gt; &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;f&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;FastFilterPlugin&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;Filter&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;...&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;framework&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;Status&lt;/span&gt; &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;strings&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;HasPrefix&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;node&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;Name&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;compute-node-&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;framework&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;NewStatus&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;framework&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;Success&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;framework&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;NewStatus&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;framework&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;Unschedulable&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;1-4-ä½¿ç”¨å¤šä¸ªè°ƒåº¦å™¨-è°ƒåº¦å™¨éš”ç¦»&#34;&gt;ğŸ§  1.4. ä½¿ç”¨å¤šä¸ªè°ƒåº¦å™¨ï¼ˆè°ƒåº¦å™¨éš”ç¦»ï¼‰&lt;/h2&gt;
&lt;p&gt;å¹¶è¡Œéƒ¨ç½²å¤šä¸ªè°ƒåº¦å™¨è¿›ç¨‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;spec&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;schedulerName&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;batch-scheduler&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ¯ç±»å·¥ä½œè´Ÿè½½ä½¿ç”¨ä¸åŒè°ƒåº¦å™¨è¿›è¡Œå¤„ç†ï¼Œå®ç°å¹¶è¡Œè°ƒåº¦å’Œèµ„æºéš”ç¦»ã€‚&lt;/p&gt;
&lt;h2 id=&#34;1-5-ä½¿ç”¨é«˜æ€§èƒ½è°ƒåº¦ç³»ç»Ÿ&#34;&gt;ğŸ›  1.5. ä½¿ç”¨é«˜æ€§èƒ½è°ƒåº¦ç³»ç»Ÿ&lt;/h2&gt;
&lt;h3 id=&#34;koordinator&#34;&gt;Koordinator&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;æ”¯æŒæ‰¹é‡è°ƒåº¦ã€NUMA æ„ŸçŸ¥ã€QoS èµ„æºåˆ†çº§&lt;/li&gt;
&lt;li&gt;ä¸ Kubernetes è°ƒåº¦æ¡†æ¶å…¼å®¹ï¼Œéƒ¨ç½²ç®€å•&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;volcano&#34;&gt;Volcano&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;é¢å‘å¤§è§„æ¨¡æ‰¹å¤„ç†ã€AI/MLã€HPC ä»»åŠ¡è°ƒåº¦&lt;/li&gt;
&lt;li&gt;æ”¯æŒæŠ¢å ã€ä»»åŠ¡ä¼˜å…ˆçº§ã€ä¾èµ–å…³ç³»ç­‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;1-6-ç›‘æ§ä¸éªŒè¯å»ºè®®&#34;&gt;ğŸ“Š 1.6. ç›‘æ§ä¸éªŒè¯å»ºè®®&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨ &lt;code&gt;kubectl get pods -w&lt;/code&gt; å®æ—¶è§‚å¯Ÿ Pending çŠ¶æ€&lt;/li&gt;
&lt;li&gt;å…³æ³¨è°ƒåº¦äº‹ä»¶ &lt;code&gt;FailedScheduling&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è·Ÿè¸ª API Server æŒ‡æ ‡ï¼šQPSã€å»¶è¿Ÿã€å†…å­˜å ç”¨&lt;/li&gt;
&lt;li&gt;éƒ¨ç½² Prometheus + Grafana è¿›è¡Œç³»ç»Ÿç›‘æ§ä¸å¯è§†åŒ–&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;1-7-æ€»ç»“å¯¹æ¯”&#34;&gt;âœ… 1.7. æ€»ç»“å¯¹æ¯”&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;ä¼˜åŒ–æ–¹å¼&lt;/th&gt;
&lt;th&gt;æ•ˆæœ&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;æ§åˆ¶ Pod åˆ›å»ºé€Ÿç‡&lt;/td&gt;
&lt;td&gt;é¿å…æ§åˆ¶é¢ç»„ä»¶è¿‡è½½&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æé«˜è°ƒåº¦å™¨å¹¶å‘åº¦&lt;/td&gt;
&lt;td&gt;æå‡æ¯ç§’è°ƒåº¦åå&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ç¼–å†™è°ƒåº¦å™¨æ’ä»¶&lt;/td&gt;
&lt;td&gt;é™ä½å•æ¬¡è°ƒåº¦å¤æ‚åº¦&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å¤šè°ƒåº¦å™¨æ¶æ„&lt;/td&gt;
&lt;td&gt;å®ç°ä»»åŠ¡éš”ç¦»ä¸å¹¶è¡Œè°ƒåº¦&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ä½¿ç”¨ Koordinator/Volcano&lt;/td&gt;
&lt;td&gt;é¢å‘ AI/æ‰¹å¤„ç†ç­‰é«˜è´Ÿè½½åœºæ™¯&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h1 id=&#34;2-etcdä¼˜åŒ–&#34;&gt;2. Etcdä¼˜åŒ–&lt;/h1&gt;
&lt;p&gt;etcd æ˜¯ Kubernetes æ§åˆ¶å¹³é¢çš„æ ¸å¿ƒå­˜å‚¨å¼•æ“ï¼Œä¸€æ—¦åœ¨å¤§è§„æ¨¡ Pod åˆ›å»ºã€è°ƒåº¦è¿‡ç¨‹ä¸­å‡ºç° &lt;strong&gt;å†™å…¥å»¶è¿Ÿå¢åŠ &lt;/strong&gt;ï¼Œä¼šç›´æ¥å½±å“ API Server æ€§èƒ½ï¼Œè¿›è€Œæ‹–æ…¢è°ƒåº¦å™¨å’Œæ§åˆ¶å™¨ååº”é€Ÿåº¦ï¼Œç”šè‡³å¼•å‘é›†ç¾¤ä¸å¯ç”¨ã€‚&lt;/p&gt;
&lt;h2 id=&#34;2-1-åŸºç¡€é…ç½®ä¼˜åŒ–&#34;&gt;ğŸ”§ 2.1. åŸºç¡€é…ç½®ä¼˜åŒ–&lt;/h2&gt;
&lt;h3 id=&#34;1-å¯ç”¨è‡ªåŠ¨å‹ç¼©å†å²æ•°æ®&#34;&gt;âœ… 1. å¯ç”¨è‡ªåŠ¨å‹ç¼©å†å²æ•°æ®&lt;/h3&gt;
&lt;p&gt;etcd é»˜è®¤ä¼šä¿ç•™å†å²ç‰ˆæœ¬ï¼Œéšç€å¯¹è±¡å˜åŒ–å¢å¤šï¼Œå­˜å‚¨è†¨èƒ€ï¼Œå¯¼è‡´å»¶è¿Ÿå‡é«˜ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--auto-compaction-retention&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;1h   &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# æ¯å°æ—¶æ¸…ç†å†å²&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--snapshot-count&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;10000&lt;/span&gt;           &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# æ§åˆ¶ä½•æ—¶è§¦å‘å¿«ç…§&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;2-å¯ç”¨-wal-å‹ç¼©&#34;&gt;âœ… 2. å¯ç”¨ WAL å‹ç¼©&lt;/h3&gt;
&lt;p&gt;å‹ç¼© Write-Ahead Logï¼Œå‡å°‘ç£ç›˜ I/O å¼€é”€ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--experimental-initial-corrupt-check&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--experimental-compact-hash-check-enabled&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;2-2-ç¡¬ä»¶å±‚ä¼˜åŒ–-éå¸¸å…³é”®&#34;&gt;ğŸ’½ 2.2. ç¡¬ä»¶å±‚ä¼˜åŒ–ï¼ˆéå¸¸å…³é”®ï¼‰&lt;/h2&gt;
&lt;p&gt;etcd å¯¹ &lt;strong&gt;ç£ç›˜ IOPS å’Œå»¶è¿Ÿ&lt;/strong&gt; æ•æ„Ÿï¼Œæ¨èï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä½¿ç”¨ SSD&lt;/strong&gt;ï¼ˆNVMe æœ€ä½³ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;etcd ç‹¬ç«‹ç£ç›˜ï¼Œé¿å…å’Œ kubelet æˆ– container runtime å…±ç”¨&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æå‡å†…å­˜ï¼ˆå»ºè®® 16G+ï¼‰ã€CPU æ€§èƒ½ï¼ˆè‡³å°‘ 4 æ ¸ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¼€å¯ NUMA äº²å’Œé…ç½®ï¼Œå‡å°‘è·¨æ ¸è°ƒåº¦&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;2-3-é›†ç¾¤éƒ¨ç½²æ¶æ„ä¼˜åŒ–&#34;&gt;ğŸ§± 2.3. é›†ç¾¤éƒ¨ç½²æ¶æ„ä¼˜åŒ–&lt;/h2&gt;
&lt;h3 id=&#34;1-éš”ç¦»éƒ¨ç½²-etcd&#34;&gt;âœ… 1. éš”ç¦»éƒ¨ç½² etcd&lt;/h3&gt;
&lt;p&gt;etcdä¸è¦ä¸ &lt;code&gt;kube-apiserver&lt;/code&gt;ã€&lt;code&gt;controller-manager&lt;/code&gt; ç­‰ç»„ä»¶å…±èŠ‚ç‚¹è¿è¡Œã€‚&lt;/p&gt;
&lt;p&gt;1ï¼‰&lt;strong&gt;etcd å¯¹ç£ç›˜ IOã€å†…å­˜å’Œ CPU çš„æ€§èƒ½éå¸¸æ•æ„Ÿ&lt;/strong&gt;ï¼Œç‰¹åˆ«æ˜¯ç£ç›˜å»¶è¿Ÿå¯¹ etcd æ€§èƒ½å’Œç¨³å®šæ€§æœ‰æ˜¾è‘—å½±å“ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;kube-apiserverã€controller-managerã€scheduler ç­‰ç»„ä»¶ä¹Ÿä¼šé¢‘ç¹è®¿é—® etcdï¼Œäº§ç”Ÿè¾ƒå¤§ CPU å’Œå†…å­˜è´Ÿè½½ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚æœå®ƒä»¬éƒ¨ç½²åœ¨åŒä¸€èŠ‚ç‚¹ï¼Œå®¹æ˜“å¯¼è‡´ &lt;strong&gt;èµ„æºç«äº‰ï¼ˆå°¤å…¶æ˜¯ IOï¼‰&lt;/strong&gt;ï¼Œå½±å“ etcd çš„å“åº”èƒ½åŠ›å’Œç¨³å®šæ€§ï¼Œè¿›è€Œå½±å“æ•´ä¸ªé›†ç¾¤çš„æ§åˆ¶é¢ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;2ï¼‰ &lt;strong&gt;Kubernetes é€šå¸¸è¿è¡Œåœ¨é«˜é€Ÿå±€åŸŸç½‘å†…ï¼Œè®¿é—® etcd çš„å»¶è¿Ÿå¾ˆå°&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ç½‘ç»œå»¶è¿Ÿåœ¨ç°ä»£æ•°æ®ä¸­å¿ƒæˆ–äº‘ç¯å¢ƒä¸­é€šå¸¸æ˜¯&lt;strong&gt;å¾®ç§’åˆ°æ¯«ç§’çº§åˆ«&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åªè¦ä¿è¯ etcd é›†ç¾¤ç½‘ç»œç¨³å®šï¼Œæ§åˆ¶é¢ç»„ä»¶å³ä½¿ä¸åœ¨åŒä¸€ä¸ªèŠ‚ç‚¹ä¹Ÿèƒ½å¿«é€Ÿè®¿é—®ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;3ï¼‰ &lt;strong&gt;ä¸åœ¨ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¯ä»¥é¿å…â€œå±€éƒ¨é«˜è´Ÿè½½â€å¯¼è‡´è¿é”å½±å“&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å¦‚æœ kube-apiserver è·Ÿ etcd åŒèŠ‚ç‚¹ï¼Œä¸€æ—¦ kube-apiserver çªå‘æµé‡ï¼ˆæ¯”å¦‚åˆ›å»ºå¤§é‡èµ„æºï¼‰ï¼Œä¼šå¯¼è‡´ &lt;strong&gt;etcd æ‰€åœ¨èŠ‚ç‚¹èµ„æºè¢«å æ»¡&lt;/strong&gt;ï¼Œä»è€Œå½±å“ etcd å“åº”ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åä¹‹äº¦ç„¶ï¼Œetcd çš„ GC æˆ– compaction æ“ä½œä¹Ÿå¯èƒ½å½±å“ apiserver çš„æ€§èƒ½ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2-å¤šå‰¯æœ¬éƒ¨ç½²-3-5ä¸ªèŠ‚ç‚¹&#34;&gt;âœ… 2. å¤šå‰¯æœ¬éƒ¨ç½²ï¼ˆ3~5ä¸ªèŠ‚ç‚¹ï¼‰&lt;/h3&gt;
&lt;p&gt;é¿å…å•ç‚¹ç“¶é¢ˆï¼Œå¹¶å¯ç”¨é«˜å¯ç”¨ã€‚&lt;/p&gt;
&lt;h1 id=&#34;3-kube-apiserverä¼˜åŒ–&#34;&gt;3. kube-apiserverä¼˜åŒ–&lt;/h1&gt;
&lt;p&gt;åœ¨å¤§é‡ Pod åŒæ—¶è°ƒåº¦æ—¶ï¼Œ&lt;strong&gt;API Server å‹åŠ›å¤§&lt;/strong&gt; æ˜¯é€ æˆé›†ç¾¤å¡é¡¿æˆ–å¼‚å¸¸çš„æ ¸å¿ƒç“¶é¢ˆä¹‹ä¸€ï¼Œä¸»è¦è¡¨ç°ä¸ºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;åˆ›å»ºã€æ›´æ–°ã€æŸ¥è¯¢ Pod ç­‰è¯·æ±‚å“åº”å˜æ…¢&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;kubeletã€controller-manager ä¸ API Server é€šä¿¡è¶…æ—¶&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;etcd QPS æ¿€å¢ã€å»¶è¿Ÿå‡é«˜ï¼Œç”šè‡³è§¦å‘ç†”æ–­&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä»¥ä¸‹æ˜¯å…·ä½“çš„ä¼˜åŒ–ç­–ç•¥ï¼Œä»é›†ç¾¤å‚æ•°ã€é™æµã€ç»„ä»¶è§£è€¦ç­‰å¤šä¸ªå±‚é¢å±•å¼€ï¼š&lt;/p&gt;
&lt;h2 id=&#34;3-1-æ§åˆ¶è¯·æ±‚é€Ÿç‡-é™æµ&#34;&gt;ğŸ§± 3.1. æ§åˆ¶è¯·æ±‚é€Ÿç‡ï¼ˆé™æµï¼‰&lt;/h2&gt;
&lt;h3 id=&#34;1-æ§åˆ¶å®¢æˆ·ç«¯åˆ›å»ºé€Ÿç‡&#34;&gt;âœ… 1. æ§åˆ¶å®¢æˆ·ç«¯åˆ›å»ºé€Ÿç‡&lt;/h3&gt;
&lt;p&gt;æ¯”å¦‚å¤§é‡ Job/Deployment æ§åˆ¶å™¨ã€è„šæœ¬åŒæ—¶å‘å‡º &lt;code&gt;kubectl apply&lt;/code&gt; è¯·æ±‚ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è§£å†³æ–¹æ³•ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;é‡‡ç”¨ &lt;code&gt;kubectl --wait=false&lt;/code&gt; å¼‚æ­¥åˆ›å»º&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨åˆ†æ‰¹ apply æˆ– sleep æ§åˆ¶é€Ÿç‡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨ controllerï¼ˆä¾‹å¦‚è‡ªå®šä¹‰ CRD + controllerï¼‰åˆ†æ‰¹åˆ†ç»„ç®¡ç† pod/job&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;3-2-è°ƒä¼˜-api-server-å‚æ•°&#34;&gt;âš™ï¸ 3.2. è°ƒä¼˜ API Server å‚æ•°&lt;/h2&gt;
&lt;p&gt;åœ¨ kube-apiserver å¯åŠ¨å‚æ•°ä¸­ï¼š&lt;/p&gt;
&lt;h3 id=&#34;1-å¢åŠ æœ€å¤§å¹¶å‘-qps&#34;&gt;âœ… 1. å¢åŠ æœ€å¤§å¹¶å‘ QPS&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--max-requests-inflight&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;4000&lt;/span&gt;              &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# é»˜è®¤ 400ï¼Œå¢åŠ ååèƒ½åŠ›&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--max-mutating-requests-inflight&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;2000&lt;/span&gt;     &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# é»˜è®¤ 200ï¼Œè°ƒå¤§å†™è¯·æ±‚å®¹é‡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;2-å¢åŠ ç¼“å­˜æ—¶é—´ä¸å“åº”çª—å£&#34;&gt;âœ… 2. å¢åŠ ç¼“å­˜æ—¶é—´ä¸å“åº”çª—å£&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--request-timeout&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;1m
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--min-request-timeout&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;300&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;3-3-operatorä¼˜åŒ–&#34;&gt;3.3. operatorä¼˜åŒ–&lt;/h2&gt;
&lt;p&gt;å¦‚æœæœ‰å¼€å‘è‡ªå®šä¹‰çš„operatorï¼Œåˆ™éœ€è¦å¯¹operatorçš„é€»è¾‘è¿›è¡Œä¼˜åŒ–ã€‚&lt;/p&gt;
&lt;h3 id=&#34;1-ä½¿ç”¨-informer-ç¼“å­˜æœºåˆ¶-client-go-é»˜è®¤æ”¯æŒ&#34;&gt;âœ… 1. ä½¿ç”¨ informer ç¼“å­˜æœºåˆ¶ï¼ˆclient-go é»˜è®¤æ”¯æŒï¼‰&lt;/h3&gt;
&lt;p&gt;è‡ªå®šä¹‰æ§åˆ¶å™¨æˆ–è°ƒåº¦æ’ä»¶ä¸­åº”ä½¿ç”¨å…±äº«ç¼“å­˜ï¼Œè€Œéé¢‘ç¹ &lt;code&gt;GET&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;informer :&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; factory.Core&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;()&lt;/span&gt;.V1&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;()&lt;/span&gt;.Pods&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;()&lt;/span&gt;.Informer&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;2-å‡å°‘ä¸å¿…è¦çš„-watch-æˆ–é¢‘ç¹-list-è¯·æ±‚&#34;&gt;âœ… 2. å‡å°‘ä¸å¿…è¦çš„ Watch æˆ–é¢‘ç¹ List è¯·æ±‚&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è°ƒåº¦å™¨æ’ä»¶ä¸­ä¸è¦é¢‘ç¹è®¿é—® Pod åˆ—è¡¨&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å‡å°‘ metrics æˆ–å®¡è®¡æ—¥å¿—ç³»ç»Ÿå¯¹ API çš„é«˜é¢‘é‡‡é›†&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;4-ç½‘ç»œæ’ä»¶ä¼˜åŒ–&#34;&gt;4. ç½‘ç»œæ’ä»¶ä¼˜åŒ–&lt;/h1&gt;
&lt;p&gt;Kubernetes ç½‘ç»œæ’ä»¶ï¼ˆCNIï¼‰åœ¨å¤§è§„æ¨¡éƒ¨ç½²æˆ–é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œè‹¥å¤„ç†èƒ½åŠ›è·Ÿä¸ä¸Šï¼Œä¼šå‡ºç° &lt;strong&gt;è°ƒåº¦æˆåŠŸä½†ç½‘ç»œä¸é€šã€æœåŠ¡è¿æ¥æ…¢ã€è·¨èŠ‚ç‚¹é€šä¿¡å¼‚å¸¸&lt;/strong&gt; ç­‰é—®é¢˜ã€‚&lt;/p&gt;
&lt;h2 id=&#34;4-1-ç½‘ç»œç“¶é¢ˆè¡¨ç°&#34;&gt;ğŸ§­ 4.1. ç½‘ç»œç“¶é¢ˆè¡¨ç°&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;ç°è±¡&lt;/th&gt;
&lt;th&gt;å¯èƒ½åŸå› &lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Pod åˆ›å»ºå¡ä½åœ¨ &lt;code&gt;ContainerCreating&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;CNI æ’ä»¶è°ƒç”¨è¶…æ—¶ï¼Œç½‘ç»œè®¾å¤‡æœªåˆå§‹åŒ–&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è·¨èŠ‚ç‚¹æœåŠ¡è®¿é—®æ…¢æˆ–è¶…æ—¶&lt;/td&gt;
&lt;td&gt;ç½‘ç»œæ’ä»¶è½¬å‘è·¯å¾„æ€§èƒ½ä¸è¶³ï¼Œiptables/ebpf ç´¯ç§¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;é›†ç¾¤ä¸­ ping æŸäº› Pod æ…¢&lt;/td&gt;
&lt;td&gt;æŸäº›èŠ‚ç‚¹æµé‡ç“¶é¢ˆï¼Œæˆ–è€… VXLAN éš§é“é«˜å»¶è¿Ÿ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;kube-proxy&lt;/code&gt; CPU å æ»¡&lt;/td&gt;
&lt;td&gt;iptables è§„åˆ™è¿‡å¤šæˆ–é¢‘ç¹å˜æ›´&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;4-2-é€‰å‹ä¼˜åŒ–-é€‰æ‹©é«˜æ€§èƒ½-cni-æ’ä»¶&#34;&gt;âœ… 4.2. é€‰å‹ä¼˜åŒ–ï¼šé€‰æ‹©é«˜æ€§èƒ½ CNI æ’ä»¶&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;æ’ä»¶&lt;/th&gt;
&lt;th&gt;æ€§èƒ½ç‰¹ç‚¹&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;https://cilium.io&#34;&gt;Cilium&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;eBPF é©±åŠ¨ï¼Œæ— éœ€ iptablesï¼Œæé«˜æ€§èƒ½ï¼Œæ”¯æŒå¤§è§„æ¨¡èŠ‚ç‚¹&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Calico (BPF æ¨¡å¼)&lt;/td&gt;
&lt;td&gt;æ”¯æŒ eBPF æ¨¡å¼ï¼Œæ€§èƒ½æ›´å¥½äºä¼ ç»Ÿ iptables&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Flannel&lt;/td&gt;
&lt;td&gt;é€‚ç”¨äºå°è§„æ¨¡é›†ç¾¤ï¼Œæ€§èƒ½æ™®é€šï¼Œä¸æ¨èå¤§é›†ç¾¤ä½¿ç”¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Multus&lt;/td&gt;
&lt;td&gt;æ”¯æŒå¤šç½‘å¡/å¤š CNIï¼Œé€‚åˆè¾¹ç¼˜åœºæ™¯ä½†è°ƒè¯•å¤æ‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ’¡ æ¨èä½¿ç”¨ &lt;strong&gt;Cilium æˆ– Calicoï¼ˆeBPF æ¨¡å¼ï¼‰&lt;/strong&gt;ï¼Œé¿å…ä½¿ç”¨ä¼ ç»Ÿ Flannel/VXLANã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;4-3-ç½‘ç»œæ’ä»¶å‚æ•°è°ƒä¼˜&#34;&gt;âš™ï¸ 4.3. ç½‘ç»œæ’ä»¶å‚æ•°è°ƒä¼˜&lt;/h2&gt;
&lt;h3 id=&#34;cilium-ç¤ºä¾‹&#34;&gt;ğŸ”¹ Cilium ç¤ºä¾‹&lt;/h3&gt;
&lt;p&gt;é…ç½® &lt;code&gt;/etc/cilium/cilium-config&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;enable-bpf-masquerade: &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;enable-ipv4-masquerade: &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;false&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;bpf-lb-map-max: &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;65536&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;bpf-ct-global-tcp-max: &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;524288&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;bpf-ct-global-any-max: &lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;262144&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¹¶å¯ç”¨ kube-proxy æ›¿ä»£æ¨¡å¼ï¼ˆkube-proxy-freeï¼‰ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;kubeProxyReplacement&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;strict&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f8f8f8;text-decoration:underline&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;4-4-è·¨èŠ‚ç‚¹é€šä¿¡ä¼˜åŒ–&#34;&gt;ğŸ”„ 4.4. è·¨èŠ‚ç‚¹é€šä¿¡ä¼˜åŒ–&lt;/h2&gt;
&lt;h3 id=&#34;1-å‡å°‘-vxlan-å°è£…-æˆ–æ”¹ä¸º-native-routing&#34;&gt;âœ… 1. å‡å°‘ VXLAN å°è£…ï¼ˆæˆ–æ”¹ä¸º Native Routingï¼‰&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Flannel/Calico VXLAN æ¨¡å¼æ€§èƒ½å·®&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ¨èåˆ‡æ¢ä¸º Calico çš„ &lt;strong&gt;BGP æ¨¡å¼&lt;/strong&gt;ï¼ˆè·¯ç”±ç›´è¾¾ï¼Œæ— å°è£…ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2-ä½¿ç”¨-direct-server-return-dsr-ecmp-è·¯ç”±&#34;&gt;âœ… 2. ä½¿ç”¨ Direct Server Returnï¼ˆDSRï¼‰+ ECMP è·¯ç”±&lt;/h3&gt;
&lt;p&gt;å¤§æµé‡æœåŠ¡éƒ¨ç½²æ—¶ï¼Œé¿å…ä¸­å¿ƒåŒ–è½¬å‘ã€‚&lt;/p&gt;
&lt;h2 id=&#34;4-5-kube-proxy-ä¼˜åŒ–&#34;&gt;ğŸ”ƒ 4.5. kube-proxy ä¼˜åŒ–&lt;/h2&gt;
&lt;h3 id=&#34;1-ä½¿ç”¨-ipvs-æ¨¡å¼ä»£æ›¿-iptables&#34;&gt;âœ… 1. ä½¿ç”¨ &lt;code&gt;ipvs&lt;/code&gt; æ¨¡å¼ä»£æ›¿ &lt;code&gt;iptables&lt;/code&gt;&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--proxy-mode&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;ipvs
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;--ipvs-scheduler&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;rr
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç›¸æ¯” &lt;code&gt;iptables&lt;/code&gt;ï¼Œ&lt;code&gt;ipvs&lt;/code&gt; å¤„ç†æœåŠ¡è½¬å‘åœ¨å¤§è§„æ¨¡é›†ç¾¤ä¸‹ CPU æ›´çœã€å»¶è¿Ÿæ›´ä½ã€‚&lt;/p&gt;
&lt;h3 id=&#34;2-é…åˆ-ebpf-æ›¿ä»£-kube-proxy-cilium-æ¨è&#34;&gt;âœ… 2. é…åˆ eBPF æ›¿ä»£ kube-proxyï¼ˆCilium æ¨èï¼‰&lt;/h3&gt;
&lt;p&gt;Cilium çš„ &lt;code&gt;kube-proxy-replacement=strict&lt;/code&gt; ç›´æ¥ä½¿ç”¨ BPF åŠ é€ŸæœåŠ¡è°ƒåº¦ã€‚&lt;/p&gt;
&lt;h2 id=&#34;4-6-èŠ‚ç‚¹ç³»ç»Ÿå‚æ•°ä¼˜åŒ–&#34;&gt;ğŸ”§ 4.6. èŠ‚ç‚¹ç³»ç»Ÿå‚æ•°ä¼˜åŒ–&lt;/h2&gt;
&lt;p&gt;è®¾ç½®èŠ‚ç‚¹çš„å†…æ ¸å‚æ•°ï¼Œæå‡å¤§æµé‡ä¸‹ç³»ç»Ÿå¤„ç†èƒ½åŠ›ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# æé«˜ conntrack è¡¨å®¹é‡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sysctl -w net.netfilter.nf_conntrack_max&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;262144&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sysctl -w net.netfilter.nf_conntrack_tcp_timeout_established&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;86400&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# å…è®¸æ›´å¤šæ–‡ä»¶æè¿°ç¬¦&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;ulimit&lt;/span&gt; -n &lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1048576&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# è°ƒé«˜é˜Ÿåˆ—é•¿åº¦&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sysctl -w net.core.somaxconn&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;1024&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sysctl -w net.core.netdev_max_backlog&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#0000cf;font-weight:bold&#34;&gt;250000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;4-7-ç›‘æ§å…³é”®æŒ‡æ ‡&#34;&gt;ğŸ“Š 4.7. ç›‘æ§å…³é”®æŒ‡æ ‡&lt;/h2&gt;
&lt;p&gt;é€šè¿‡ Cilium/Calico è‡ªå¸¦ metrics æˆ– Prometheus é‡‡é›†ï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;æŒ‡æ ‡&lt;/th&gt;
&lt;th&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;cilium_forwarding_latency_seconds&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;è½¬å‘å»¶è¿Ÿ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;cilium_drop_count_total&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;æ•°æ®åŒ…è¢«ä¸¢å¼ƒçš„åŸå› &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;iptables_rule_count&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;kube-proxy ä¸­è§„åˆ™æ•°é‡&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;conntrack_entries&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;å½“å‰è¿æ¥è·Ÿè¸ªè¡¨å¤§å°&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;4-8-æ€»ç»“ä¼˜åŒ–å»ºè®®è¡¨&#34;&gt;âœ… 4.8. æ€»ç»“ä¼˜åŒ–å»ºè®®è¡¨&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;æ–¹å‘&lt;/th&gt;
&lt;th&gt;æ–¹æ¡ˆ&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;æ’ä»¶é€‰å‹&lt;/td&gt;
&lt;td&gt;ä½¿ç”¨ Cilium/Calico eBPFï¼Œé¿å… Flannel&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ’ä»¶é…ç½®&lt;/td&gt;
&lt;td&gt;ä¼˜åŒ–è½¬å‘è¡¨ã€è¿æ¥è·Ÿè¸ªè¡¨å¤§å°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ç½‘ç»œæ¶æ„&lt;/td&gt;
&lt;td&gt;BGP æ›¿ä»£ VXLANï¼Œå¼€å¯ kube-proxy-free&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ç³»ç»Ÿå†…æ ¸&lt;/td&gt;
&lt;td&gt;è°ƒé«˜ conntrack / backlog ç­‰å‚æ•°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è½¬å‘æ¨¡å¼&lt;/td&gt;
&lt;td&gt;ä½¿ç”¨ ipvs æˆ– eBPF åŠ é€Ÿ kube-proxy&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ç›‘æ§æ’æŸ¥&lt;/td&gt;
&lt;td&gt;å¼€å¯ drop åˆ†æã€BPF è·¯å¾„è¿½è¸ª&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h1 id=&#34;5-æ€»ç»“&#34;&gt;5. æ€»ç»“&lt;/h1&gt;
&lt;p&gt;å¤§è§„æ¨¡ Pod è°ƒåº¦ä¸ä»…ä»…æ˜¯è¿½æ±‚é€Ÿåº¦ï¼Œæ›´é‡è¦çš„æ˜¯åœ¨é«˜å‹ä¸‹ä¿æŒç³»ç»Ÿçš„ç¨³å®šæ€§ä¸æ­£ç¡®æ€§ã€‚éœ€è¦ä»å„ä¸ªæ–¹é¢è¿›è¡Œé›†ç¾¤ä¼˜åŒ–æ‰èƒ½æ‰¿å—å¤§è§„æ¨¡podé›†ç¾¤çš„æ€§èƒ½å‹åŠ›ã€‚æœ¬æ–‡åˆ†åˆ«ä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢è¿›è¡Œä¼˜åŒ–ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è°ƒåº¦å™¨åŠæ‰©å±•è°ƒåº¦å™¨&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ETCDä¼˜åŒ–&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;kube-apiserverä¼˜åŒ–&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç½‘ç»œæ’ä»¶åŠèŠ‚ç‚¹ä¼˜åŒ–&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åªè¦è®¾è®¡åˆç†ï¼ŒKubernetes å®Œå…¨å¯ä»¥ç¨³å®šé«˜æ•ˆåœ°è°ƒåº¦æ•°ä¸‡ä¸ª Podã€‚&lt;/p&gt;

      </description>
    </item>
    
  </channel>
</rss>
